name = "trading-agent-engine"
main = "src/index.ts"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]

# KV Namespace binding
# [[kv_namespaces]]
# binding = "TRADING_CACHE"
# id = "d0853bad5d7b49a5a6a7f872180aae06"
# preview_id = "d0853bad5d7b49a5a6a7f872180aae06"

# Workers AI binding
# [ai]
# binding = "AI"

# ==============================================================================
# D1 DATABASE CONFIGURATION
# ==============================================================================
# IMPORTANT: Before deploying, you MUST replace the database_id below with your
# actual D1 database UUID. The placeholder value will cause deployment to fail.
#
# To get your database_id:
# 1. Run: wrangler d1 create trading-platform
# 2. Copy the UUID from the output (format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx)
# 3. Replace "YOUR_D1_DATABASE_ID_HERE" below with that UUID
#
# Alternatively, run the setup script: ./scripts/setup.sh
# ==============================================================================

[[d1_databases]]
binding = "DB"
database_name = "trading-platform"
database_id = "05d79612-7bfe-4c0c-8511-300ad9943042"

# ==============================================================================
# SECRETS (set via `wrangler secret put <NAME>`)
# ==============================================================================
# Required secrets:
#   JWT_SECRET          - HMAC key for JWT signing (min 32 chars)
#   ZEPTOMAIL_API_KEY   - ZeptoMail API key for transactional emails
#   NOWPAYMENTS_API_KEY - NowPayments API key for crypto deposits
#   NOWPAYMENTS_IPN_SECRET - NowPayments IPN webhook secret
#
# To set a secret:
#   npx wrangler secret put JWT_SECRET
#   npx wrangler secret put ZEPTOMAIL_API_KEY
#   npx wrangler secret put NOWPAYMENTS_API_KEY
#   npx wrangler secret put NOWPAYMENTS_IPN_SECRET
# ==============================================================================

# Secrets are configured via `wrangler secret put` (encrypted at rest)
# Currently configured: JWT_SECRET, ZEPTOMAIL_API_KEY, NOWPAYMENTS_API_KEY, NOWPAYMENTS_IPN_SECRET
# Run `npx wrangler secret list` to verify
