name = "trading-agent-engine"
main = "src/index.ts"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]

# KV Namespace binding
[[kv_namespaces]]
binding = "TRADING_CACHE"
id = "d0853bad5d7b49a5a6a7f872180aae06"
preview_id = "d0853bad5d7b49a5a6a7f872180aae06"

# Workers AI binding
[ai]
binding = "AI"

# ==============================================================================
# D1 DATABASE CONFIGURATION
# ==============================================================================
# IMPORTANT: Before deploying, you MUST replace the database_id below with your
# actual D1 database UUID. The placeholder value will cause deployment to fail.
#
# To get your database_id:
# 1. Run: wrangler d1 create trading-platform
# 2. Copy the UUID from the output (format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx)
# 3. Replace "YOUR_D1_DATABASE_ID_HERE" below with that UUID
#
# Alternatively, run the setup script: ./scripts/setup.sh
# ==============================================================================
[[d1_databases]]
binding = "DB"
database_name = "trading-platform"
# TODO: Replace this placeholder with your actual D1 database UUID
# You can also set the D1_DATABASE_ID environment variable as a fallback
database_id = "6c7b7d64-5641-4b37-be0b-4e3ce1cbef06"

# Scheduled tasks (cron triggers)
# Runs every minute (minimum production interval)
[triggers]
crons = ["* * * * *"]
